(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),l=a.n(r),o=(a(28),a(5)),i=a(6),c=a(8),u=a(7),m=(a(14),a(29),a(10)),d=function(e){return s.a.createElement("header",{className:"header"},s.a.createElement("nav",{className:"nav"},s.a.createElement(m.b,{to:"/",className:"nav__link"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),s.a.createElement(m.b,{to:"/news",className:"nav__link"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),s.a.createElement("button",{type:"button",class:"btn btn-outline-info",onClick:e.onClick},e.text))},h=function(e){return s.a.createElement("section",{className:"container"},s.a.createElement("h1",{className:"main__title"},"\u041f\u0440\u0438\u0432\u0435\u0442 ",s.a.createElement("span",null,e.text)))},p=(a(35),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("nav",{className:"navbar navbar-light bg-light"},s.a.createElement("form",{className:"form-inline"},s.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search here...",value:this.props.value,onChange:function(t){return e.props.search(t.target.value)}})))}}]),a}(n.Component)),f=JSON.parse(localStorage.getItem("user")),g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={authId:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));e&&this.setState({authId:e.id})}},{key:"render",value:function(){var e=this,t="admin"===this.state.authId;return s.a.createElement("ul",{className:"news"},this.props.news.map((function(a,n){return s.a.createElement("li",{key:n,className:"news__list"},s.a.createElement("div",null,s.a.createElement("h4",{className:"news__title"},a.title),s.a.createElement("p",{className:"news__text"},a.text),s.a.createElement("span",{className:"news__date"},a.date)),t?s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.props.deleteNews(n)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"):null)})),null!==this.props.addNews?s.a.createElement("li",{className:null==f?"news__list news__list_none":"news__list"},s.a.createElement("div",null,s.a.createElement("h4",{className:"news__title"},this.props.addNews.title),s.a.createElement("p",{className:"news__text"},this.props.addNews.text),s.a.createElement("span",{className:"news__date"},this.props.addNews.date),s.a.createElement("span",{className:"news__msg"},"\u041d\u0430 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0438")),t?s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e.props.onClick()}},"\u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"):null):null)}}]),a}(n.Component),w=JSON.parse(localStorage.getItem("addNews")),v=JSON.parse(localStorage.getItem("newsArr"));null===v&&localStorage.setItem("newsArr",JSON.stringify([{title:"Server Side Rendering \u0434\u043b\u044f React App \u043d\u0430 Express.js",text:"\u041d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u044d\u0442\u043e\u0439 \u0441\u0442\u0430\u0442\u044c\u0438 \u043c\u0435\u043d\u044f \u0441\u043f\u043e\u0434\u0432\u0438\u0433\u043b\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u043a\u0430\u043a\u043e\u0433\u043e-\u043b\u0438\u0431\u043e \u0431\u043e\u043b\u0435\u0435-\u043c\u0435\u043d\u0435\u0435 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043c\u0430\u043d\u0443\u0430\u043b\u0430, \u043a\u0430\u043a \u0436\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c Server Side Rendering \u0434\u043b\u044f React \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",date:"01-01-2020"},{title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 XMLHttpRequest",text:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour,",date:"01-15-2020"},{title:"\u041c\u0435\u0442\u043e\u0434\u044b \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432",text:"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour,",date:"01-20-2020"}]));var b=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).search=function(e){var t=[];t=""!==e?n.state.news.filter((function(t){var a=t.title.toLowerCase(),n=e.toLowerCase();return a.includes(n)})):n.state.news,n.setState({filtered:t})},n.deleteNews=function(e){var t=n.state.news;t.splice(e,1),n.setState({news:t}),localStorage.setItem("newsArr",JSON.stringify(t))},n.addNews=function(){var e=n.state.news.concat(w);n.setState({news:e}),localStorage.setItem("newsArr",JSON.stringify(e)),localStorage.removeItem("addNews"),window.location.reload()},n.state={news:v,filtered:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({filtered:this.state.news})}},{key:"componentWillUnmount",value:function(){null===v&&setTimeout((function(){window.location.reload()}),0)}},{key:"render",value:function(){return s.a.createElement("section",{className:"container news"},s.a.createElement("h1",null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),this.props.addNews,s.a.createElement(p,{value:this.state.value,search:this.search}),s.a.createElement(g,{news:this.state.filtered,deleteNews:this.deleteNews,onClick:this.addNews,addNews:w}))}}]),a}(n.Component),E=a(15),N=a(13),S=(a(36),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.login,s=t.password;!function(e,t,a,n){var s=a.find((function(a){return a.login===e?a.login:a.password===t?a.password:void 0}));if(void 0===s)return n.setState({isSuccess:!0}),!1;if(s.login===e&&s.password===t){var r={id:s.id,login:e[0].toUpperCase()+e.slice(1),isLogin:!0};localStorage.setItem("user",JSON.stringify(r)),n.setState({login:"",password:"",isAuth:!0,isSuccess:!1}),n.props.handleLogin(),window.location.reload()}}(a,s,t.users,Object(N.a)(n)),function(e,t,a){e<3?a.setState({isLoginErr:!0}):a.setState({isLoginErr:!1}),t<3?a.setState({isPassError:!0}):a.setState({isPassError:!1})}(a,s,Object(N.a)(n))},n.state={login:"",password:"",users:[{id:"user",login:"user",password:"user"},{id:"admin",login:"admin",password:"admin"}],isSuccess:!1,isAuth:!1,isLoginErr:!1,isPassError:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className},s.a.createElement("button",{type:"button ",className:"close button_close","aria-label":"Close",onClick:this.props.onClick},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")),s.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},this.state.isSuccess?s.a.createElement("div",{className:"form__error"},"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"):null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"login"},"Login"),s.a.createElement("input",{type:"text",className:"form-control",id:"login",placeholder:"Enter login",name:"login",value:this.state.login,onChange:this.handleChange}),this.state.isLoginErr?s.a.createElement("div",{className:"form__error"},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u043b\u043e\u0433\u0438\u043d \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"):null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"password"},"Password"),s.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),this.state.isPassError?s.a.createElement("div",{className:"form__error"}," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"):null),s.a.createElement("button",{type:"submit",className:"btn btn-outline-info"},"\u0412\u0445\u043e\u0434")))}}]),a}(n.Component)),O=a(1),_=(a(37),JSON.parse(localStorage.getItem("addNews"))),C=JSON.parse(localStorage.getItem("user")),y=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(E.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,s=t.text,r=t.date,l={title:n.state.title,text:n.state.text,date:n.state.date};!a<10&&!s<50&&""!==r&&(localStorage.setItem("addNews",JSON.stringify(l)),n.props.history.push("/news"),window.location.reload())},n.state={title:"",text:"",date:"",isLogin:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return null===C||_?s.a.createElement(O.a,{to:"/news"}):s.a.createElement("div",{className:"addNews"},s.a.createElement(m.b,{to:"/news",className:"addNews__link"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"),s.a.createElement("form",{onSubmit:this.handleSubmit,className:"addNews__form"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"name"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "),s.a.createElement("input",{type:"text",class:"form-control",id:"name",name:"title",onChange:this.handleChange,value:this.state.title})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"text"},"\u0422\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"),s.a.createElement("textarea",{class:"form-control",id:"text",name:"text",rows:"10",onChange:this.handleChange,value:this.state.text})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"date"},"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"),s.a.createElement("input",{type:"date",class:"form-control",id:"date",name:"date",onChange:this.handleChange,value:this.state.date})),s.a.createElement("button",{type:"submit",class:"btn btn-outline-info"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}}]),a}(n.Component),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleLogin=function(){var e=JSON.parse(localStorage.getItem("user"));n.setState({btnClick:!1,isLogin:e.isLogin,user:e.login})},n.state={user:"",btnClick:!1,isLogin:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));e&&this.setState({isLogin:e.isLogin,user:e.login})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(m.a,null,s.a.createElement(d,{text:this.state.isLogin?"\u0412\u044b\u0439\u0442\u0438":"\u0412\u043e\u0439\u0442\u0438",onClick:this.state.isLogin?function(){e.setState({btnClick:!1,isLogin:!1,user:""}),localStorage.removeItem("user"),window.location.reload()}:function(){return e.setState({btnClick:!0})}}),s.a.createElement(O.d,null,s.a.createElement(O.b,{exact:!0,path:"/"},s.a.createElement(h,{handleLogin:this.handleLogin,text:this.state.user?this.state.user:"\u0413\u043e\u0441\u0442\u044c"})),s.a.createElement(O.b,{path:"/news"},s.a.createElement(b,{addNews:this.state.isLogin?s.a.createElement(m.b,{to:"/addnews"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"):s.a.createElement("p",null,"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0441\u0442\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c")})),s.a.createElement(O.b,{path:"/addnews",component:y})),s.a.createElement(S,{handleLogin:this.handleLogin,className:this.state.btnClick?"popUp popUp_active":"popUp",onClick:function(){return e.setState({btnClick:!1})}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.1cb4838a.chunk.js.map